{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/ATENDIMENTO/Documents/dev/Learn/React/ng-roleplay-client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ATENDIMENTO/Documents/dev/Learn/React/ng-roleplay-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\ATENDIMENTO\\\\Documents\\\\dev\\\\Learn\\\\React\\\\ng-roleplay-client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Record=function Record(props){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"img-thumbnail w-30\",alt:props.record.name,src:props.record.refImg})}),/*#__PURE__*/_jsx(\"td\",{children:props.record.name}),/*#__PURE__*/_jsx(\"td\",{children:props.record.position}),/*#__PURE__*/_jsx(\"td\",{children:props.record.level}),/*#__PURE__*/_jsxs(\"td\",{children:[\"VIG:\",props.record.vigor]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"MIND:\",props.record.mind]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"END:\",props.record.endurance]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"STR:\",props.record.str]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"DEX:\",props.record.dex]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"INT:\",props.record.intelligence]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"FAI:\",props.record.faith]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"ARC:\",props.record.arcane]}),/*#__PURE__*/_jsx(\"td\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(Link,{className:\"btn btn-link\",to:\"/view/\".concat(props.record._id),children:\"View\"})})]});};export default function RecordList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),records=_useState2[0],setRecords=_useState2[1];// This method fetches the records from the database.\nuseEffect(function(){function getRecords(){return _getRecords.apply(this,arguments);}function _getRecords(){_getRecords=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,message,records;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://54.167.59.252:5000/record/\");case 2:response=_context.sent;if(response.ok){_context.next=7;break;}message=\"An error occurred: \".concat(response.statusText);window.alert(message);return _context.abrupt(\"return\");case 7:_context.next=9;return response.json();case 9:records=_context.sent;setRecords(records);case 11:case\"end\":return _context.stop();}}},_callee);}));return _getRecords.apply(this,arguments);}getRecords();return;},[records.length]);// This method will delete a record\nfunction _deleteRecord2(_x){return _deleteRecord.apply(this,arguments);}// This method will map out the records on the table\nfunction _deleteRecord(){_deleteRecord=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var newRecords;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:5000/\".concat(id),{method:\"DELETE\"});case 2:newRecords=records.filter(function(el){return el._id!==id;});setRecords(newRecords);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _deleteRecord.apply(this,arguments);}function recordList(){return records.map(function(record){return/*#__PURE__*/_jsx(Record,{record:record,deleteRecord:function deleteRecord(){return _deleteRecord2(record._id);}},record._id);});}// This following section will display the table with the records of individuals.\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"container p-2 \",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",style:{marginTop:10},children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Start Class\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Min. Level\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Stats\"}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:recordList()})]})});}","map":{"version":3,"sources":["C:/Users/ATENDIMENTO/Documents/dev/Learn/React/ng-roleplay-client/src/components/recordList.js"],"names":["React","useEffect","useState","Link","Record","props","record","name","refImg","position","level","vigor","mind","endurance","str","dex","intelligence","faith","arcane","_id","RecordList","records","setRecords","getRecords","fetch","response","ok","message","statusText","window","alert","json","length","deleteRecord","id","method","newRecords","filter","el","recordList","map","marginTop"],"mappings":"odAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,qBACd,mCACE,iCAAI,YAAK,SAAS,CAAC,oBAAf,CAAoC,GAAG,CAAEA,KAAK,CAACC,MAAN,CAAaC,IAAtD,CAA4D,GAAG,CAAEF,KAAK,CAACC,MAAN,CAAaE,MAA9E,EAAJ,EADF,cAEE,oBAAKH,KAAK,CAACC,MAAN,CAAaC,IAAlB,EAFF,cAGE,oBAAKF,KAAK,CAACC,MAAN,CAAaG,QAAlB,EAHF,cAIE,oBAAKJ,KAAK,CAACC,MAAN,CAAaI,KAAlB,EAJF,cAKE,6BAAUL,KAAK,CAACC,MAAN,CAAaK,KAAvB,GALF,cAME,8BAAWN,KAAK,CAACC,MAAN,CAAaM,IAAxB,GANF,cAOE,6BAAUP,KAAK,CAACC,MAAN,CAAaO,SAAvB,GAPF,cAQE,6BAAUR,KAAK,CAACC,MAAN,CAAaQ,GAAvB,GARF,cASE,6BAAUT,KAAK,CAACC,MAAN,CAAaS,GAAvB,GATF,cAUE,6BAAUV,KAAK,CAACC,MAAN,CAAaU,YAAvB,GAVF,cAWE,6BAAUX,KAAK,CAACC,MAAN,CAAaW,KAAvB,GAXF,cAYE,6BAAUZ,KAAK,CAACC,MAAN,CAAaY,MAAvB,GAZF,cAeE,WAAI,SAAS,CAAC,UAAd,uBAGE,KAAC,IAAD,EAAM,SAAS,CAAC,cAAhB,CAA+B,EAAE,iBAAWb,KAAK,CAACC,MAAN,CAAaa,GAAxB,CAAjC,kBAHF,EAfF,GADc,EAAf,CAgCA,cAAe,SAASC,CAAAA,UAAT,EAAsB,CACpC,cAA8BlB,QAAQ,CAAC,EAAD,CAAtC,wCAAOmB,OAAP,eAAgBC,UAAhB,eAEA;AACArB,SAAS,CAAC,UAAM,SACCsB,CAAAA,UADD,wIACd,sLACyBC,CAAAA,KAAK,qCAD9B,QACQC,QADR,kBAGOA,QAAQ,CAACC,EAHhB,yBAIUC,OAJV,8BAI0CF,QAAQ,CAACG,UAJnD,EAKIC,MAAM,CAACC,KAAP,CAAaH,OAAb,EALJ,8DASwBF,CAAAA,QAAQ,CAACM,IAAT,EATxB,QASQV,OATR,eAWEC,UAAU,CAACD,OAAD,CAAV,CAXF,uDADc,6CAgBdE,UAAU,GAIV,OACD,CArBQ,CAqBN,CAACF,OAAO,CAACW,MAAT,CArBM,CAAT,CAuBA;AA3BoC,QA4BrBC,CAAAA,cA5BqB,iDAqCpC;AArCoC,+FA4BpC,kBAA4BC,EAA5B,4JACQV,CAAAA,KAAK,iCAA0BU,EAA1B,EAAgC,CACzCC,MAAM,CAAE,QADiC,CAAhC,CADb,QAKQC,UALR,CAKqBf,OAAO,CAACgB,MAAR,CAAe,SAACC,EAAD,QAAQA,CAAAA,EAAE,CAACnB,GAAH,GAAWe,EAAnB,EAAf,CALrB,CAMEZ,UAAU,CAACc,UAAD,CAAV,CANF,wDA5BoC,+CAsCpC,QAASG,CAAAA,UAAT,EAAsB,CACpB,MAAOlB,CAAAA,OAAO,CAACmB,GAAR,CAAY,SAAClC,MAAD,CAAY,CAC7B,mBACE,KAAC,MAAD,EACE,MAAM,CAAEA,MADV,CAEE,YAAY,CAAE,8BAAM2B,CAAAA,cAAY,CAAC3B,MAAM,CAACa,GAAR,CAAlB,EAFhB,EAGOb,MAAM,CAACa,GAHd,CADF,CAOD,CARM,CAAP,CASD,CAED;AACA,mBACE,YAAK,SAAS,CAAC,gBAAf,uBACE,eAAO,SAAS,CAAC,OAAjB,CAAyB,KAAK,CAAE,CAAEsB,SAAS,CAAE,EAAb,CAAhC,wBACE,cAAO,SAAS,CAAC,YAAjB,uBACE,mCACE,6BADF,cAEE,4BAFF,cAGE,mCAHF,cAIE,kCAJF,cAKE,6BALF,cAME,aANF,cAOE,aAPF,cAQE,aARF,cASE,aATF,cAUE,aAVF,cAWE,aAXF,cAYE,aAZF,cAaE,8BAbF,GADF,EADF,cAkBE,uBAAQF,UAAU,EAAlB,EAlBF,GADF,EADF,CAwBA","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n \r\nconst Record = (props) => (\r\n <tr>\r\n   <td><img className=\"img-thumbnail w-30\" alt={props.record.name} src={props.record.refImg}></img></td>\r\n   <td>{props.record.name}</td>\r\n   <td>{props.record.position}</td>\r\n   <td>{props.record.level}</td>\r\n   <td >VIG:{props.record.vigor}</td> \r\n   <td >MIND:{props.record.mind}</td> \r\n   <td >END:{props.record.endurance}</td> \r\n   <td >STR:{props.record.str}</td> \r\n   <td >DEX:{props.record.dex}</td>\r\n   <td >INT:{props.record.intelligence}</td> \r\n   <td >FAI:{props.record.faith}</td> \r\n   <td >ARC:{props.record.arcane}</td>\r\n\r\n   \r\n   <td className=\"col-md-2\">\r\n    \r\n      {/* <Link className=\"btn btn-link\" to={`/edit/${props.record._id}`}>Edit</Link> */}\r\n     <Link className=\"btn btn-link\" to={`/view/${props.record._id}`}>View</Link>\r\n     {/*\r\n     <button className=\"btn btn-link\"\r\n       onClick={() => {\r\n         props.deleteRecord(props.record._id);\r\n       }}\r\n     >\r\n       Delete\r\n     </button> */}\r\n   </td>\r\n </tr>\r\n);\r\n \r\nexport default function RecordList() {\r\n const [records, setRecords] = useState([]);\r\n \r\n // This method fetches the records from the database.\r\n useEffect(() => {\r\n   async function getRecords() {\r\n     const response = await fetch(`http://54.167.59.252:5000/record/`);\r\n     \r\n     if (!response.ok) {\r\n       const message = `An error occurred: ${response.statusText}`;\r\n       window.alert(message);\r\n       return;\r\n     }\r\n     \r\n     const records = await response.json();\r\n     \r\n     setRecords(records);\r\n     \r\n     \r\n   }\r\n   getRecords();\r\n   \r\n  \r\n \r\n   return;\r\n }, [records.length]);\r\n \r\n // This method will delete a record\r\n async function deleteRecord(id) {\r\n   await fetch(`http://localhost:5000/${id}`, {\r\n     method: \"DELETE\"\r\n   });\r\n \r\n   const newRecords = records.filter((el) => el._id !== id);\r\n   setRecords(newRecords);\r\n }\r\n \r\n // This method will map out the records on the table\r\n function recordList() {\r\n   return records.map((record) => {\r\n     return (\r\n       <Record\r\n         record={record}\r\n         deleteRecord={() => deleteRecord(record._id)}\r\n         key={record._id}\r\n       />\r\n     );\r\n   });\r\n }\r\n \r\n // This following section will display the table with the records of individuals.\r\n return (\r\n   <div className=\"container p-2 \">\r\n     <table className=\"table\" style={{ marginTop: 10 }}>\r\n       <thead className=\"thead-dark\">\r\n         <tr>\r\n           <th>Image</th>\r\n           <th>Name</th>\r\n           <th>Start Class</th>\r\n           <th>Min. Level</th>\r\n           <th>Stats</th>\r\n           <th></th>\r\n           <th></th>\r\n           <th></th>\r\n           <th></th>\r\n           <th></th>\r\n           <th></th>\r\n           <th></th>\r\n           <th>Action</th>\r\n         </tr>\r\n       </thead>\r\n       <tbody>{recordList()}</tbody>\r\n     </table>\r\n   </div>\r\n );\r\n}"]},"metadata":{},"sourceType":"module"}